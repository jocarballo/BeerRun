<div id="head">
  <nav class="nav-bar">
   <ul>
     <button type="button" class="btn btn-link"><a href="/home" class="navItem">Home</a></button>
     </ul>
     </nav>
     <form action="/trip/create" method="post">
      <div class="row mb-3" style="width: 18rem;">
        <label> Name
        <input type="text" name="name" placeholder="BeerRunner" />
        </label>

        <p>Start Location</p>
        <div id="startGeocoder"></div>
        <p>End Location</p>
        <div id="endGeocoder"></div>
        <input type="hidden" name="startLatitudePoint" value="52.510503080857056"/>
        <input type="hidden" name="startLongitudePoint" value="13.411238339071419"/>
        <input type="hidden" name="endLatitudePoint" value="52.510503080857056"/>    
        <input type="hidden" name="endLongitudePoint" value="13.40753800326165"/>
        <button type="submit" class="btn btn-success">Create Trip</button>
      </div>
     </form>
</div>
</div>
    {{!-- error message will be added here --}}
  </form>
</div>

<div class="container">
      <nav class="nav-bar">
        <ul>
          <a href="/home" class="navItem">Home</a>
        </ul>
      </nav>
</div>

<h1>Profile Page</h1>
{{user.username}}


<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoiam9jYXJiYWxsbyIsImEiOiJja3puMzVsaWM0YTl2MzBvMWVqcHJxaWhiIn0.UJWUB-BwaxMmZH4w7eSgGQ';

const startGeocoder = new MapboxGeocoder({
  accessToken: mapboxgl.accessToken,
  types: 'address'
});
 
startGeocoder.addTo('#startGeocoder');  
startGeocoder.on('result', (e) => {
    let latitude = e.result.geometry.coordinates[1];
    let longitude = e.result.geometry.coordinates[0];

    let startLatitudeElem = document.querySelector('[name="startLatitudePoint"]');
    let startLongitudeElem = document.querySelector('[name="startLongitudePoint"]');

    startLatitudeElem.setAttribute('value', latitude);
    startLongitudeElem.setAttribute('value', longitude);
});
 
// Clear results container when search is cleared.
startGeocoder.on('clear', () => {
  
});

const endGeocoder = new MapboxGeocoder({
  accessToken: mapboxgl.accessToken,
  types: 'address'
});
 
endGeocoder.addTo('#endGeocoder');  
endGeocoder.on('result', (e) => {
    let latitude = e.result.geometry.coordinates[1];
    let longitude = e.result.geometry.coordinates[0];

    let endLatitudeElem = document.querySelector('[name="endLatitudePoint"]');
    let endLongitudeElem = document.querySelector('[name="endLongitudePoint"]');

    endLatitudeElem.setAttribute('value', latitude);
    endLongitudeElem.setAttribute('value', longitude);
});

// Clear results container when search is cleared.
endGeocoder.on('clear', () => {
  
});
</script>

<form action="/home" method="POST">
    <button>Logout</button>
</form>

    
 {{user.username}}



<div class="beerRun" style="width: 18rem;">
  <img src="..." class="card-img-top" alt="...">

  <div class="card-body">
    <h5 class="card-title">Beer Run</h5>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
  </div>
  <div class="beerRun" style="width: 18rem;">
  <img src="..." class="card-img-top" alt="...">

  <div class="card-body">
    <h5 class="card-title">Card title</h5>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
</div>
<div class="beerRun" style="width: 18rem;">
  <img src="..." class="card-img-top" alt="...">

  <div class="card-body">
    <h5 class="card-title">Beer Run</h5>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
  </div>
  <div class="beerRun" style="width: 18rem;">
  <img src="..." class="card-img-top" alt="...">

  <div class="card-body">
    <h5 class="card-title">Beer Run</h5>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
  </div>


</section> 
  


